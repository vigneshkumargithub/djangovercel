import shutil

from django.db.backends.base.client import BaseDatabaseClient


class DatabaseClient(BaseDatabaseClient):
<<<<<<< HEAD
    executable_name = 'sqlplus'
    wrapper_name = 'rlwrap'
=======
    executable_name = "sqlplus"
    wrapper_name = "rlwrap"
>>>>>>> 32e7214c1350fb4a88064960159c92207483e581

    @staticmethod
    def connect_string(settings_dict):
        from django.db.backends.oracle.utils import dsn

        return '%s/"%s"@%s' % (
<<<<<<< HEAD
            settings_dict['USER'],
            settings_dict['PASSWORD'],
=======
            settings_dict["USER"],
            settings_dict["PASSWORD"],
>>>>>>> 32e7214c1350fb4a88064960159c92207483e581
            dsn(settings_dict),
        )

    @classmethod
    def settings_to_cmd_args_env(cls, settings_dict, parameters):
<<<<<<< HEAD
        args = [cls.executable_name, '-L', cls.connect_string(settings_dict)]
=======
        args = [cls.executable_name, "-L", cls.connect_string(settings_dict)]
>>>>>>> 32e7214c1350fb4a88064960159c92207483e581
        wrapper_path = shutil.which(cls.wrapper_name)
        if wrapper_path:
            args = [wrapper_path, *args]
        args.extend(parameters)
        return args, None
